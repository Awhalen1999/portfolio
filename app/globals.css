@import 'tailwindcss';
@import 'tw-animate-css';
@plugin '@tailwindcss/typography';
@custom-variant dark (&:is(.dark *));

@theme {
  --font-family-primary: var(--font-inter), ui-sans-serif, system-ui, sans-serif;
  --font-family-mono: var(--font-dm-mono), 'DM Mono', 'Input Mono', 'Fira Code',
    monospace;
  --font-family-condensed: var(--font-roboto-condensed), ui-sans-serif,
    system-ui, sans-serif;
  --font-family-script: var(--font-bad-script), cursive;
}

:root {
  /* text */
  --c-text-60: #888;
  --c-text-80: #555;
  --c-text-90: #222;
  --c-text-100: #000;

  /* background */
  --c-background: #e0f2fe;
  --c-background-muted: #bababa;
  --c-background-hover: rgba(50, 50, 50, 0.03);
  --c-background-hover-10: rgba(50, 50, 50, 0.1);

  /* expanded  */
  --c-chip: rgba(50, 50, 50, 0.15);
  --c-chip-active: rgba(50, 50, 50, 0.2);
  --c-accent: #ecc1ff;
  --c-accent-active: #c4a0d9;
  --c-text-transparent: rgba(50, 50, 50, 0.3);
  --c-separator: rgba(50, 50, 50, 0.2);
}

.dark {
  /* text */
  --c-text-60: #888;
  --c-text-80: #bbb;
  --c-text-90: #ddd;
  --c-text-100: #fff;

  /* background */
  --c-background: #000000;
  --c-background-muted: #222;
  --c-background-hover: rgba(255, 255, 255, 0.03);
  --c-background-hover-10: rgba(255, 255, 255, 0.1);

  /* expanded  */
  --c-chip: rgba(255, 255, 255, 0.15);
  --c-chip-active: rgba(255, 255, 255, 0.2);
  --c-accent: #ecc1ff;
  --c-accent-active: #c4a0d9;
  --c-text-transparent: rgba(255, 255, 255, 0.3);
  --c-separator: rgba(255, 255, 255, 0.2);
}

@layer base {
  /* Global element styles */

  /* HTML & Body */
  html {
    overflow-x: hidden;
    overflow-y: scroll;
    color-scheme: light dark;
    scroll-behavior: smooth;
  }

  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  .dark {
    color-scheme: dark;
  }

  /* Performance optimizations */
  * {
    -webkit-tap-highlight-color: transparent;
  }

  /* Text selection */
  ::selection {
    background-color: #ecc1ff; /* Pink highlight */
    color: black;
  }

  ::-moz-selection {
    background-color: #ecc1ff; /* Pink highlight for Firefox */
    color: black;
  }

  /* Custom scrollbars */
  * {
    scrollbar-color: var(--c-background-muted) transparent;
  }

  ::-webkit-scrollbar {
    width: 6px;
  }

  ::-webkit-scrollbar:horizontal {
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: var(--c-background-muted);
    border-radius: 3px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--c-background-muted);
  }

  /* Image theme switching */
  .dark [img-light] {
    display: none;
  }

  html:not(.dark) [img-dark] {
    display: none;
  }

  /* Fade transitions */
  .fade-enter-active,
  .fade-leave-active {
    transition: opacity 0.2s ease;
  }

  .fade-enter-from,
  .fade-leave-to {
    opacity: 0;
  }
}

@layer utilities {
  /* Typography System - Updated with Font-Specific Classes */
  .text-style-header-main {
    font-family: var(--font-inter);
    color: var(--c-text-100);
    @apply text-[2rem] font-medium tracking-wide;
  }

  .text-style-header-bold {
    font-family: var(--font-inter);
    color: var(--c-text-100);
    @apply text-[2rem] font-semibold tracking-wide;
  }

  .text-style-subheader-main {
    font-family: var(--font-inter);
    color: var(--c-text-80);
    @apply text-[1.25rem] font-medium tracking-wide;
  }

  .text-style-subheader-bold {
    font-family: var(--font-inter);
    color: var(--c-text-100);
    @apply text-[1.25rem] font-semibold tracking-wide;
  }

  .text-style-subheader-small {
    font-family: var(--font-inter);
    color: var(--c-text-80);
    @apply text-[0.975rem] font-semibold tracking-wide;
  }

  .text-style-body-main {
    font-family: var(--font-inter);
    color: var(--c-text-80);
    @apply text-[0.925rem] leading-relaxed font-medium;
  }

  .text-style-body-bold {
    font-family: var(--font-inter);
    color: var(--c-text-100);
    @apply text-[0.925rem] leading-relaxed font-semibold;
  }

  .text-style-body-italic {
    font-family: var(--font-inter);
    color: var(--c-text-80);
    @apply text-[0.925rem] leading-relaxed italic;
  }

  .text-style-body-link {
    font-family: var(--font-inter);
    color: var(--c-text-100);
    @apply text-[0.925rem] leading-relaxed font-semibold underline decoration-[var(--c-text-transparent)] decoration-[0.6px] underline-offset-3 transition-all hover:decoration-[var(--c-text-100)];
  }

  .text-style-body-small-60 {
    font-family: var(--font-inter);
    color: var(--c-text-60);
    @apply text-sm font-medium tracking-tight;
  }

  .text-style-body-small-100 {
    font-family: var(--font-inter);
    color: var(--c-text-100);
    @apply text-sm font-medium tracking-tight;
  }

  .text-style-body-extra-small {
    font-family: var(--font-inter);
    color: var(--c-text-60);
    @apply text-xs font-medium tracking-tight;
  }

  .text-style-body-tiny {
    font-family: var(--font-inter);
    color: var(--c-text-80);
    @apply text-[0.625rem] tracking-wider;
  }

  /* Code-specific styles */
  .text-style-code {
    font-family: var(--font-dm-mono);
    color: var(--c-text-80);
    @apply text-sm font-normal tracking-tight;
  }

  /* Pixel cloud animation */
  @keyframes cloud {
    0% {
      transform: translateX(150vw);
    }
    100% {
      transform: translateX(-300px);
    }
  }

  .animate-cloud {
    animation: cloud linear infinite;
  }

  /* Respect user's motion preferences */
  @media (prefers-reduced-motion: reduce) {
    .animate-cloud {
      animation-play-state: paused;
    }
  }
}
