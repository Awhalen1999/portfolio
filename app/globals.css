@import 'tailwindcss';
@import 'tw-animate-css';
@plugin '@tailwindcss/typography';
@custom-variant dark (&:is(.dark *));

:root {
  /* Text color system - matching Anthony Fu's prose colors */
  --text-main: #000; /* --fg-deeper for headers */
  --text-body: #555; /* --fg for body text */
  --text-body-hover: #222; /* --fg-deep for hover states */
  --text-link: #000; /* --fg-deeper for links */
  --text-chip: #555; /* --fg for chips */
  --text-chip-hover: #222; /* --fg-deep for chip hover */
  --text-icon-button: #888; /* --fg-light for icon buttons */

  /* TODO: Add syntax highlighting colors */
  /* TODO: Add design tokens (radius, etc.) */
  /* TODO: Add light theme colors (background, foreground, cards, etc.) */
  /* TODO: Add chart colors */
  /* TODO: Add sidebar colors */
}

.dark {
  /* Text color system - dark mode matching Anthony Fu's prose colors */
  --text-main: #fff; /* --fg-deeper for headers */
  --text-body: #bbb; /* --fg for body text */
  --text-body-hover: #ddd; /* --fg-deep for hover states */
  --text-link: #fff; /* --fg-deeper for links */
  --text-chip: #bbb; /* --fg for chips */
  --text-chip-hover: #ddd; /* --fg-deep for chip hover */
  --text-icon-button: #888; /* --fg-light for icon buttons */

  /* TODO: Add dark theme colors (background, foreground, cards, etc.) */
  /* TODO: Add dark chart colors */
  /* TODO: Add dark sidebar colors */
}

@theme inline {
  /* Text color mappings */
  --color-text-main: var(--text-main);
  --color-text-body: var(--text-body);
  --color-text-body-hover: var(--text-body-hover);
  --color-text-link: var(--text-link);
  --color-text-chip: var(--text-chip);
  --color-text-chip-hover: var(--text-chip-hover);
  --color-text-icon-button: var(--text-icon-button);
}

@layer base {
  /* Global element styles */
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }

  * {
    @apply border-border outline-ring/50;
  }

  /* HTML & Body */
  html {
    overflow-x: hidden;
    overflow-y: scroll;
    color-scheme: light dark;
  }

  body {
    @apply bg-background text-foreground;
  }

  .dark {
    color-scheme: dark;
  }

  /* Text selection */
  ::selection {
    background-color: #ecc1ff; /* Pink highlight */
    color: black;
  }

  ::-moz-selection {
    background-color: #ecc1ff; /* Pink highlight for Firefox */
    color: black;
  }

  /* Custom scrollbars */
  * {
    scrollbar-color: var(--color-muted) var(--color-background);
  }

  ::-webkit-scrollbar {
    width: 6px;
  }

  ::-webkit-scrollbar:horizontal {
    height: 6px;
  }

  ::-webkit-scrollbar-track,
  ::-webkit-scrollbar-corner {
    background: var(--color-background);
    border-radius: 10px;
  }

  ::-webkit-scrollbar-thumb {
    background: var(--color-muted);
    border-radius: 10px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--color-muted-foreground);
  }

  /* Image theme switching */
  .dark [img-light] {
    display: none;
  }

  html:not(.dark) [img-dark] {
    display: none;
  }

  /* Fade transitions */
  .fade-enter-active,
  .fade-leave-active {
    transition: opacity 0.2s ease;
  }

  .fade-enter-from,
  .fade-leave-to {
    opacity: 0;
  }
}

@layer utilities {
  /* Typography System */
  .text-header-main {
    @apply text-4xl font-bold tracking-tighter;
  }

  .text-header-bold {
    @apply text-2xl font-bold tracking-tighter;
  }

  .text-body-main {
    @apply leading-snug font-normal tracking-tight;
  }

  .text-body-bold {
    @apply leading-snug font-semibold tracking-tight;
  }

  .text-body-italic {
    @apply leading-snug font-normal tracking-wide italic;
  }

  .text-chip-main {
    @apply text-sm font-normal tracking-tight;
  }

  .text-body-small {
    @apply text-xs font-normal tracking-tight;
  }

  /* Pixel cloud animation */
  @keyframes cloud {
    0% {
      transform: translateX(150vw);
    }
    100% {
      transform: translateX(-300px);
    }
  }

  .animate-cloud {
    animation: cloud linear infinite;
  }

  /* Respect user's motion preferences */
  @media (prefers-reduced-motion: reduce) {
    .animate-cloud {
      animation-play-state: paused;
    }
  }
}
