@import 'tailwindcss';
@import 'tw-animate-css';
@plugin '@tailwindcss/typography';
@custom-variant dark (&:is(.dark *));

:root {
  /* text */
  --color-main-text: #000;
  --color-main-text-active: #222;
  --color-body-text: #555;
  --color-body-text-active: #222;
  --color-link-text: #000;
  --color-link-text-active: #222;
  --color-chip-text: #555;
  --color-chip-text-active: #222;
  --color-icon-button-text: #888;

  /* background */
  --color-main-bg: #e0f2fe;
  --color-chip-bg: rgba(63, 63, 70, 0.22);
  --color-chip-bg-active: rgba(39, 39, 42, 0.32);

  /* TODO: Add syntax highlighting colors */
  /* TODO: Add design tokens (radius, etc.) */
  /* TODO: Add light theme colors (background, foreground, cards, etc.) */
  /* TODO: Add chart colors */
  /* TODO: Add sidebar colors */
}

.dark {
  /* text */
  --color-main-text: #fff;
  --color-main-text-active: #ddd;
  --color-body-text: #bbb;
  --color-body-text-active: #ddd;
  --color-link-text: #fff;
  --color-chip-text: #bbb;
  --color-chip-text-active: #ddd;
  --color-icon-button-text: #888;

  /* background */
  --color-main-bg: #000000;
  --color-chip-bg: rgba(255, 255, 255, 0.12);
  --color-chip-bg-active: rgba(255, 255, 255, 0.22);
}

@theme inline {
  --color-main-text: var(--color-main-text);
  --color-body-text: var(--color-body-text);
  --color-body-text-active: var(--color-body-text-active);
  --color-link-text: var(--color-link-text);
  --color-chip-text: var(--color-chip-text);
  --color-chip-text-active: var(--color-chip-text-active);
  --color-icon-button-text: var(--color-icon-button-text);
  --color-bg-main: var(--color-main-bg);
  --color-chip-bg: var(--color-chip-bg);
  --color-chip-bg-active: var(--color-chip-bg-active);
}

@layer base {
  /* Global element styles */
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }

  /* HTML & Body */
  html {
    overflow-x: hidden;
    overflow-y: scroll;
    color-scheme: light dark;
  }

  .dark {
    color-scheme: dark;
  }

  /* Text selection */
  ::selection {
    background-color: #ecc1ff; /* Pink highlight */
    color: black;
  }

  ::-moz-selection {
    background-color: #ecc1ff; /* Pink highlight for Firefox */
    color: black;
  }

  /* Custom scrollbars */
  * {
    scrollbar-color: var(--color-muted) var(--color-background);
  }

  ::-webkit-scrollbar {
    width: 6px;
  }

  ::-webkit-scrollbar:horizontal {
    height: 6px;
  }

  ::-webkit-scrollbar-track,
  ::-webkit-scrollbar-corner {
    background: var(--color-background);
    border-radius: 10px;
  }

  ::-webkit-scrollbar-thumb {
    background: var(--color-muted);
    border-radius: 10px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--color-muted-foreground);
  }

  /* Image theme switching */
  .dark [img-light] {
    display: none;
  }

  html:not(.dark) [img-dark] {
    display: none;
  }

  /* Fade transitions */
  .fade-enter-active,
  .fade-leave-active {
    transition: opacity 0.2s ease;
  }

  .fade-enter-from,
  .fade-leave-to {
    opacity: 0;
  }
}

@layer utilities {
  /* Typography System */
  .text-style-header-main {
    @apply text-4xl font-bold tracking-tighter;
  }

  .text-style-header-bold {
    @apply text-2xl font-bold tracking-tighter;
  }

  .text-style-body-main {
    @apply leading-snug font-normal tracking-tight;
  }

  .text-style-body-bold {
    @apply leading-snug font-semibold tracking-tight;
  }

  .text-style-body-italic {
    @apply leading-snug font-normal tracking-wide italic;
  }

  .text-style-chip-main {
    @apply text-sm font-normal tracking-tight;
  }

  .text-style-body-small {
    @apply text-xs font-normal tracking-tight;
  }

  /* Pixel cloud animation */
  @keyframes cloud {
    0% {
      transform: translateX(150vw);
    }
    100% {
      transform: translateX(-300px);
    }
  }

  .animate-cloud {
    animation: cloud linear infinite;
  }

  /* Respect user's motion preferences */
  @media (prefers-reduced-motion: reduce) {
    .animate-cloud {
      animation-play-state: paused;
    }
  }
}
